<!DOCTYPE html>
<html>
<head>
	<title>Product Detail</title>
	<link rel="stylesheet" href="./css/index.css" type="text/css">
	<link rel="stylesheet" href="./css/base.css" type="text/css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
	<!-- S title bar  -->
	<div id="title-bar"><h1>Product Detail</h1></div>
	<!-- E title bar  -->
	<!-- S main above -->
	<div class="container-top"> 
		<!-- S img -->
	<img id="picture" src="./img/iphone8-plus.png" alt="iphone8-plus" width=186px>
	<!-- E img -->
	<!-- S info -->
	<h2>iPhone 8 Plus full Netcom 4G</h2>
	<p id="price">From ￥<strong class="price-num">424</strong> / mo</p>
	<p id="top-end">MSRP：￥5088 - ￥6888</p>
	<!-- E info -->
	</div>
	<!-- E main above -->
	<!-- S main bottom -->
	<div class="container-bottom">
		<!-- S benefits -->
	<h3>Additional benefits</h3>
	<p id="bottom-end"><img class="icon" src="./img/icon_si.svg" alt="" align="middle">screen insurance <br>
	   <img class="icon" src="./img/icon_iv.svg" alt="" align="middle">￥1000 investment vouchers <br>
		<img class="icon" src="./img/icon_fs.svg" alt="" align="middle">Free shipping <br>
		<img class="icon" src="./img/icon_gs.svg" alt="" align="middle">Genuine security <br>
		<img class="icon" src="./img/icon_nw.svg" alt="" align="middle">nationwide warranty </p>
		<!-- E benefits -->
		<!-- S button -->
	<button id="bottom-btn" onclick="showDialog()">Buy</button>
		<!-- E button -->

		<!-- S dialog -->
		<dialog id="option-dialog" >
			<!-- S dialoge box -->
			<div id="dialog-box">
				<div class="close" onclick="closeDialog()"></div>
				<!-- S corlor option-->
			<div class="container clearfix">
			<p>Color:</p>
			<ul id="option-color">
				<li><a href="#">Gold</a></li>
				<li><a href="#">Silver</a></li>
				<li><a href="#">Space Gray</a></li>
			</ul>
			</div>
			<!-- E corlor option-->
			<!-- S capacity option-->
			<div class="container clearfix">
			<p>Capacity:</p>
			<ul id="option-capa">
				<li><a href="#">64G</a></li>
				<li><a href="#">128G</a></li>
			</ul>
			</div>
			<!-- E capacity option-->
			<!-- S quantity -->
			<div class="container clearfix">
			<p>Quantity:</p>
		    <div id="quantity-inner"> <!-- 只允许input 输出数字1-99的方法？-->
		    	<input class="operate" id="decrease" type="button" value="-"><input class="amount" id="amount" type="number" pattern="[0-9]" value="1"><!--<input class="amount" id="amount" type="text" name="quantity" value="1" onkeyup="this.value=this.value.replace(/[^\d]/,'')">--><input class="operate" id="increase" type="button" value="+">
			</div>
			<!-- E quantity -->
			</div>
           <!-- E dialoge box -->
		    </div>
			<button id="bottom-btn" type="submit" onclick="openWinOrd()">Continue</button>
		</dialog>	
		<!-- E dialoge -->
		</div>
		<!-- E main bottom -->
	<script>
		//对话框开启与关闭
		var x = document.getElementById("option-dialog");
		function showDialog() {
			x.show();
		}
		function closeDialog() {
			x.close();
		}
	    //选项选中效果
		var optionCol = document.getElementById("option-color");
		var listCol = optionCol.getElementsByTagName("li");
		for(var i = 0; i<listCol.length; i++) {
			listCol[i].onclick = function() {   //触发click时执行
				for(var k = 0; k<listCol.length; k++) {  //遍历所有li
					listCol[k].className = ""; // 清除所有li的classname
				}
				this.className = "li-selected"; //当前click的liclassName变为li-selected并执行css
			}
		}
		var optionCapa = document.getElementById("option-capa");
		var listCapa = optionCapa.getElementsByTagName("li");
		for(var m = 0; m<listCapa.length; m++) {
			listCapa[m].onclick = function() {   //触发click时执行
				for(var j = 0; j<listCapa.length; j++) {  //遍历所有li
					listCapa[j].className = ""; // 清除所有li的classname
				}
				this.className = "li-selected"; //当前click的liclassName变为li-selected并执行css
			}
		}
		//数量增减器 中间区域限制类型为数字，最小1，最大10
		var inc = document.getElementById("increase"); //此处getElementsByClassName（“operate”）获取不到？？？
		var dec = document.getElementById("decrease");
		var amount = document.getElementById("amount");
		// typeOf(amount.value) === number;
		// min.amount.value === 0;
		// max.amount.value ===10;
		inc.onclick = function() {
			amount.value = parseInt(amount.value) + 1;
			max.amount.value ===10;
		}
		dec.onclick = function() {
			if(amount.value > 1){
				amount.value = parseInt(amount.value) - 1;
			}
		}
		function openWinOrd() {
			window.open("order-confir.html", "_self");
		}
		//如果用户输入的amount不是一个数字，要提示，如果是一个数字需要限制最大最小值
		// var num = parseInt(amount.value);
		// if(num === number) {
  //            number.max-value
		// }


		// 选项及表单的数据如何传输？ 给元素增加action = “” ？？
		
		// for(var i = 0; i<list.length; i++) {
		// 	list[i].onclick = function() {
		// 		 for(var k=0; k<list.length; k++) {
		// 		 	list[k].className = "";
		// 		 }
		// 		 this.className = "li-selected";  
		// 	}
			
		// }
	    //执行方法：
	    // function liSelected() {
	    // 	for(i = 0; i<list.length; i++) {  //开始遍历
	    // 		list[i].index = i;
	    // 		list[i].className = "";   //遍历第一个li，让classname = “”
	    // 	} // 此时遍历完成，每一个classname都为“”
	    // 		// list[i].onclick = function() { 
	    // 		// 	this.className = "li-selected";
	    // 		// }	    		
	    // 	} 	    
	    //1.默认每个li是默认样式，遍历每一个li，让li的classname = “”
	    //2.发生点击改变classname

	</script>
</body>
</html>